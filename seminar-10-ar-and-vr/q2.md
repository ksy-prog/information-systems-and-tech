# Основы 3D-моделирования и фотограмметрии для создания виртуальных объектов

## 3D-моделирование

Это процесс создания трёхмерных объектов в виртуальном пространстве с помощью специального программного обеспечения.

### Виды 3D-моделирования:

**Полигональное моделирование.** Смысл в том, что для создания макета берётся плоский объект, например треугольник, и путём повторения воссоздаётся в пространстве. Получается объёмная фигура — полигон, самый простой элемент в 3D-моделировании, который имеет ребро, грань и вершину. Из комбинации множества таких полигонов дизайнер формирует макет.

**Параметрическое 3D-моделирование** — это метод автоматизированного проектирования, который предполагает создание 3D-моделей с использованием параметров, зависимостей и ограничений. Он позволяет дизайнерам и инженерам создавать 3D-объекты и управлять ими, сохраняя контроль над различными параметрами проекта.

**3D-скульптинг** — представляет собой компьютерную имитацию обычной лепки из настоящей глины, выполняемой с помощью специализированного 3D-редактора. Виртуальный материал с изначально заданной формой (обычно простой) сжимается, вытягивается и т.д. с помощью кистей и других инструментов, входящих в функционал программы.

## Фотограмметрия

Это одно из направлений 3D-сканирования, основанное на получении данных о размерах и поверхностях реальных объектов за счёт фотоснимков. Эта технология позволяет точнее измерить геометрию объекта с помощью фотоснимков, на которых размещены специальные маркеры и шкалы. Это дает возможность значительно улучшить точность трехмерных моделей и сохранить контроль за глобальной точностью измерений, особенно при работе с крупными объектами.

### Фотограмметрия в 3D-графике

Для создания 3D-моделей используются снимки объекта с разных сторон. Специальное программное обеспечение сначала определяет положение камеры во время снимков, а затем «сшивает» их для создания единого графического пространства.

После этой процедуры программа переносит полученные данные в 3D-модель, используя полигоны — те самые треугольники, которые стоят в основе компьютерной 3D-графики реального времени. Так как поверхности реальных объектов очень сложные, изначальное количество полигонов на модель может достигать сотен тысяч.

### Оборудование

Самый очевидный инструмент фотограмметрии — это конечно же камера. Это должна быть качественная аппаратура, ведь итоговый результат очень зависит от качества и количества исходников. Так же важный фактор — это свет. Он должен быть подходящей температуры и интенсивности, чтобы фотографии были максимально приближенны к действительности. И конечно же компьютер с подходящим ПО для создания модели на основе фотографий и 3D-редактор для удаления различных артефактов.

### Методы фотограмметрии

**Метод с маркерами**

При использовании традиционных методов фотограмметрии процесс начинается с размещения меток и кодированных маркеров на поверхности объекта. Эти маркеры могут быть выполнены в виде специальных знаков, которые камеры с высоким разрешением фиксируют с различных углов. Затем сделанные фотографии обрабатываются в специальном программном обеспечении, которое с высокой точностью вычисляет пространственное положение каждого маркера и определяет геометрию объекта. В результате получается набор данных, который затем используется для построения точной 3D-модели.

Сейчас этот метод практически не используется так как он требует много времени для правильной расстановки маркеров и очень требователен к знаниям и навыкам оператора.

| Название метода | Описание | Оборудование | Примеры |
| :--- | :--- | :--- | :--- |
| **Наземный метод** | Это съемка объектов на камеры, поставленные на штативы. Метод используется для съемки архитектуры или памятников. За счет близкого расстояния достигается хорошая точность как фотографий, так и моделей. Используется в архитектуре, археологии и инженерии. | Камеры, штатив, переносной свет | Съемка памятника |
| **Аэрофотограмметрия** | Съемка объекта производится с БПЛА или самолетов. Метод позволяет охватывать большие территории или снимать труднодоступные места. Используется в картографии, сельском хозяйстве и экологии. Из плюсов можно отметить масштабируемость метода, при необходимости мы может просто подлететь к объекту съемки. | БПЛА, самолет, камеры | Создание карты миграции животных |
| **Студийный метод** | Объект расположен в светлой комнате с большим количеством камер с разных ракурсов. Этот метод используется для съемки мелких объектов или людей. Используется в кинематографе, археологии и гейм деве. | Студия с оборудованием | Съемка мимики актера для использования в кино |

## Виртуальные объекты

**Виртуальный объект** — это **цифровая конструкция, созданная в виртуальной среде с помощью компьютерных технологий**.

Главная особенность виртуального объекта — его существование в цифровом формате. Он может быть чем угодно: трёхмерной моделью автомобиля, абстрактной фигурой, копией реального предмета или полностью фантастическим элементом.

## Создание виртуального объекта с помощью фотограмметрии и 3D-моделирования

Рассмотрим процесс на примере создания цифровой копии старого ювелирного украшения:

1.  **Подготовка окружения.** Выставляем оптимальный свет в студии, чтобы избежать слишком темных фотографий или засветов.
2.  **Съемка.** Фотографируем украшение со всех возможных ракурсов для достижения качественного результата.
3.  **Обработка фотографий.** Корректируем возможные ошибки, приводим все к нужному формату (например, JPG или TIFF).
4.  **Создание 3D-модели.** Используя специальное ПО, загружаем фотографии и выравниваем их по общим точкам.
5.  **Обработка 3D-модели.** Избавляемся от артефактов. Если модель слишком сложная (высокополигональная), выполняем ретопологию — перестраиваем сетку для оптимизации количества полигонов.
6.  **Запекание карт нормалей.** Если была выполнена ретопология, этот этап позволяет сохранить визуальную детализацию модели при меньшем количестве полигонов.
7.  **Сохранение.** Сохраняем модель в форматах OBJ или FBX вместе с ее сеткой, картами нормалей и текстурами.

## Выводы

Фотограмметрия и 3D-моделирование — это основные и часто неразделимые инструменты в создании виртуальных объектов. Главная ценность такого подхода — это сохранение максимальной достоверности пропорций и текстур объектов реального мира. Такие модели используются в работе различных профессий, от инженера до художника по спецэффектам, а также помогают в сохранении утраченных древностей или в приобщении к истории людей, не имеющих возможности увидеть их вживую.