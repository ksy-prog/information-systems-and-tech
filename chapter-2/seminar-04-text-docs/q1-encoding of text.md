# **ПРЕДСТАВЛЕНИЕ И КОДИРОВАНИЕ ТЕКСТОВЫХ ДАННЫХ В ЦИФРОВОЙ ФОРМЕ**

В основе работы всех современных вычислительных систем лежит принцип представления информации в виде двоичных данных — последовательности нулей и единиц (битов). Текстовая информация также должна быть преобразована в эту форму. Процесс преобразования символов (букв, цифр, знаков препинания) в числовые коды, а затем в двоичную последовательность, называется **кодированием**. Обратный процесс — **декодированием**.

## **1. Фундаментальные принципы**

Любой текст состоит из дискретных единиц — **символов**. Задача кодирования — сопоставить каждому символу уникальный числовой код.

### **Ключевые понятия:**

- **Символ** — абстрактная единица информации (буква, иероглиф, смайлик)
- **Кодовое пространство** — диапазон всех возможных числовых кодов, которые можно использовать
- **Кодовая точка** — уникальный числовой идентификатор, присвоенный символу в рамках конкретной системы кодирования
- **Кодировка** — алгоритм, определяющий, как набор кодовых точек преобразуется в последовательность байтов для хранения или передачи

### **Базовый процесс кодирования:**

1. **Выбор символа:** программа определяет, какой символ нужно сохранить (например, буква 'K')
2. **Сопоставление с кодовой точкой:** согласно таблице кодирования, символу ставится в соответствие кодовая точка
3. **Преобразование в двоичный код:** число преобразуется в двоичную последовательность
4. **Сохранение/передача:** полученная последовательность битов записывается в файл или передается по сети

Обратный процесс (чтение битов → определение кодовой точки → отображение символа) является декодированием.

## **2. Историческая эволюция стандартов кодирования**

### **2.1. ASCII (American Standard Code for Information Interchange)**

Разработанный в 1960-х годах, ASCII стал первым широко распространенным стандартом.

- **Размер:** 7 бит, что позволяет закодировать 128 (2^7) уникальных символов
- **Структура:**
  - **0-31:** Управляющие символы (не для печати). Например, LF (Line Feed - перевод строки), CR (Carriage Return - возврат каретки), ESC (Escape)
  - **32-126:** Печатные символы. Включают пробел (32), цифры (48-57), заглавные латинские буквы (65-90), строчные латинские буквы (97-122) и основные знаки препинания
- **Главный недостаток:** ориентация на американский английский. Не поддерживает буквы других языков

### **2.2. 8-битные кодировки: расширения ASCII**

Чтобы обойти ограничение 7 бит, стали использовать старший (8-й) бит, что позволило увеличить кодовое пространство до 256 символов (0-255). Первые 128 символов оставались стандартными ASCII, а диапазон 128-255 использовался для национальных символов.

- **ISO/IEC 8859:** семейство стандартов, где каждая часть отвечала за свою группу языков
  - **ISO-8859-1 (Latin-1)** — западноевропейские языки
  - **ISO-8859-5** — кириллица
  - **KOI8-R** — популярная кодировка для русского языка

- **Windows-1251:** очень популярная кодировка для кириллицы, созданная Microsoft

**Проблема 8-битных кодировок** — несовместимость. Текст, созданный в одной кодировке, отображался как бессмысленный набор символов при открытии в другой.

## **3. Современный стандарт: Unicode**

Для решения проблемы множества кодировок был создан стандарт **Unicode**. Его основная идея — создать единую таблицу для **всех** символов всех письменностей мира.

### **Ключевые принципы Unicode:**

1. **Универсальность** — один стандарт для всех языков и платформ
2. **Однозначность** — каждому символу присваивается уникальная кодовая точка
3. **Емкость** — современный Unicode поддерживает более 1.1 миллиона кодовых точек

Кодовая точка в Unicode записывается в формате `U+XXXX`, где `XXXX` — шестнадцатеричное число.

Unicode определяет **только соответствие "символ → кодовая точка"**, но не задает, как эти кодовые точки будут представлены в виде байтов. Для этого используются **алгоритмы кодирования (UTF)**.

## **4. Семейство кодировок UTF (Unicode Transformation Format)**

### **4.1. UTF-32 (Unicode Transformation Format — 32-bit)**

- **Принцип:** каждая кодовая точка Unicode кодируется ровно одним 32-битным (4-байтным) числом
- **Преимущество:** простота и скорость доступа к i-ому символу
- **Недостаток:** чрезвычайно высокий расход памяти

### **4.2. UTF-16 (Unicode Transformation Format — 16-bit)**

- **Принцип:** базовые символы кодируются одним 16-битным словом, для остальных используется система **суррогатных пар**
- **Применение:** широко используется внутри операционных систем (Windows, Java, .NET)
- **Недостаток:** непостоянная длина символа (2 или 4 байта)

### **4.3. UTF-8 (Unicode Transformation Format — 8-bit)**

**Стандарт для веба, файловых систем и систем хранения данных.**

- **Принцип:** использует схему с переменной длиной от 1 до 4 байт
  - **Символы ASCII (U+0000 до U+007F)** кодируются одним байтом и полностью совпадают с ASCII
  - Для остальных символов используются 2, 3 или 4 байта

| Диапазон Unicode | Кодовая точка (бинарная) | Шаблон UTF-8 |
|------------------|--------------------------|--------------|
| U+0000...U+007F | `0xxxxxxx` | `0xxxxxxx` |
| U+0080...U+07FF | `00000yy yyyyyxxx` | `110yyyyy 10xxxxxx` |
| U+0800...U+FFFF | `zzzzzyyy yyyyyyxxx` | `1110zzzz 10yyyyyy 10xxxxxx` |
| U+10000...U+10FFFF | `000uuuzz zzzzyyyy yyyyyxxx` | `11110uuu 10zzzzzz 10yyyyyy 10xxxxxx` |

### **Преимущества UTF-8:**

1. **Обратная совместимость с ASCII** — любой валидный ASCII-файл является валидным UTF-8-файлом
2. **Эффективность** — для текстов на западноевропейских языках занимает почти столько же места, сколько и старые 8-битные кодировки
3. **Устойчивость к повреждениям** — повреждение одного байта не сломает всю последующую строку
4. **Не зависит от порядка байтов (endianness)** — в отличие от UTF-16 и UTF-32

## **5. Практические аспекты и проблемы**

### **5.1. Определение кодировки**

Компьютер не видит кодировку файла. Для корректного отображения он должен знать, какую кодировку использовать.

1. **Соглашение/Стандарт:** например, стандартом для веба является UTF-8
2. **Сигнатура (BOM - Byte Order Mark):** специальный непечатаемый символ `U+FEFF`, записываемый в начало файла

### **5.2. Нормализация**

В Unicode одни и те же визуальные символы могут быть представлены разными последовательностями кодовых точек. Например, буква 'ё' может быть записана как:

- Одна кодовая точка: `U+0451` ('ё')
- Композиционная последовательность: `U+0435` ('е') + `U+0308` (комбинирующий диерезис ' ̈')

**Нормализация** — это процесс приведения текста к стандартной, канонической форме для обеспечения корректного сравнения и поиска.

## **Заключение**

Эволюция текстового кодирования прошла путь от ограниченных 7-битных таблиц ASCII через хаос несовместимых 8-битных кодировок к универсальному решению — стандарту Unicode. Алгоритмы кодирования, особенно **UTF-8**, обеспечивают эффективное и надежное представление текстовых данных любой сложности в цифровой форме. Понимание этих принципов критически важно для разработчиков, системных администраторов и всех, кто работает с многоязычными цифровыми данными.
